<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-end">
    <h1>Natures de mission</h1>
    <div>
      Créer nouvelle nature
      <button (click)="onCreateNature()" class="btn btn-primary" type="button">
        <fa-icon icon="plus"></fa-icon>
      </button>
    </div>
  </div>
  <table *ngIf="natures!=null" class="table table-striped table-bordered mt-3">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Nature</th>
        <th scope="col">Date de début</th>
        <th scope="col">Date de fin</th>
        <th scope="col">Facturée</th>
        <th scope="col">Prime</th>
        <th scope="col">TJM (€)</th>
        <th scope="col">%Prime</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let nature of natures">
        <th scope="row">{{ nature.description }}</th>
        <td>{{ dates.format(nature.dateOfValidity) }}</td>
        <td>{{ dates.format(nature.endOfValidity) || 'ー'}}</td>
        <td>{{ nature.charged }}</td>
        <td>{{ nature.givesBonus }}</td>
        <td>{{ nature.tjm }}</td>
        <td>{{ nature.bonusPercentage }}</td>
        <td>
          <div class="btn-group">

            <button type="button" class="btn btn-primary" (click)="onModifierNature(nature.id)">
              <fa-icon icon="pen-to-square"></fa-icon>
              <p class="visually-hidden">modifier</p>
            </button>
            <button type="button" class="btn btn-danger" data-bs-toggle="modal" attr.data-bs-target="{{'#removeModal'}}"
              (click)="onDeletePrompt(nature)">
              <fa-icon icon="trash"></fa-icon>
              <p class="visually-hidden">supprimer</p>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<app-delete-nature [natureMissionToDelete]="natureToDelete" (onDeleteEvt)="deleteNature($event)"></app-delete-nature>
