<div class="container">
  <div class="row d-flex flex-column flex-nowrap align-items-center">
    <h1>Saisie des notes de frais</h1>
  </div>
  <form class="container">
    <div class="form-group row">
      <label for="startDate" class="col-sm-2 text-right col-form-label">Date de début</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="startDate" [value]="mission.start">
      </div>
      <label for="bonusEstimee" class="col-sm-2 col-form-label">Estimation prime</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="bonusEstimee" [value]="mission.bonus">
      </div>
    </div>
    <div class="form-group row">
      <label for="endDate" class="col-sm-2 text-right col-form-label">Date de fin</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="endDate" [value]="mission.end">
      </div>
      <label for="startCity" class="col-sm-2 col-form-label">Ville de départ</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="startCity" [value]="mission.startCity">
      </div>
    </div>
    <div class="form-group row">
      <label for="nature" class="col-sm-2 text-right col-form-label">Nature</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="nature" [value]="mission.nature">
      </div>
      <label for="endCity" class="col-sm-2 col-form-label">Ville d'arrivée</label>
      <div class="col-sm-4">
        <input type="text" readonly class="form-control-plaintext" id="endCity" [value]="mission.arrivalCity">
      </div>
    </div>
  </form>
  <div class="row">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Date</th>
          <th scope="col">Nature</th>
          <th scope="col">Montant</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let expenseLine of expenses; let index = index">
          <td>{{expenseLine.date}}</td>
          <td>{{expenseLine.type.name}}</td>
          <td>{{expenseLine.cost}}</td>
          <td>
            <app-modify-expense [expenseToModify]="expenseLine" [mission]="mission" (onUpdateEvt)="onUpdate($event)"></app-modify-expense>
            <app-remove-expense [expenseToRemove]="expenseLine" (onDeleteEvt)="onDelete($event)"></app-remove-expense>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="row d-flex justify-content-end">
    <app-create-expense [mission]="mission" (onCreateEvt)="onCreate($event)"></app-create-expense>
  </div>
</div>
